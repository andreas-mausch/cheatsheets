---
layout: cheatsheet
tags: time hwclock update
logo: data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgICB4bWxuczppbmtzY2FwZT0iaHR0cDovL3d3dy5pbmtzY2FwZS5vcmcvbmFtZXNwYWNlcy9pbmtzY2FwZSIKICAgIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyIKICAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgIHhtbG5zOmNjPSJodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9ucyMiCiAgICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgICB4bWxuczpzb2RpcG9kaT0iaHR0cDovL3NvZGlwb2RpLnNvdXJjZWZvcmdlLm5ldC9EVEQvc29kaXBvZGktMC5kdGQiCiAgICBpZD0ic3ZnMSIKICAgIHNvZGlwb2RpOmRvY25hbWU9Il9zdmdjbGVhbjIuc3ZnIgogICAgdmlld0JveD0iMCAwIDQ5Ljk0OSA1NS42ODYiCiAgICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICAgdmVyc2lvbj0iMS4xIgogICAgaW5rc2NhcGU6dmVyc2lvbj0iMC40OC4zLjEgcjk4ODYiCiAgPgogIDxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICAgaWQ9ImJhc2UiCiAgICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCIKICAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAgICBpbmtzY2FwZTp3aW5kb3ctbWF4aW1pemVkPSIwIgogICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjY3NCIKICAgICAgaW5rc2NhcGU6em9vbT0iNS42NTY4NTQyIgogICAgICBpbmtzY2FwZTp3aW5kb3cteD0iMCIKICAgICAgc2hvd2dyaWQ9ImZhbHNlIgogICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgIGlua3NjYXBlOmN1cnJlbnQtbGF5ZXI9InN2ZzEiCiAgICAgIGlua3NjYXBlOmN4PSI0MC4wNjYwNzIiCiAgICAgIGlua3NjYXBlOmN5PSItOTY4LjY1MzIiCiAgICAgIGlua3NjYXBlOndpbmRvdy1oZWlnaHQ9IjY0NSIKICAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAvPgogIDxwYXRoCiAgICAgIGlkPSJwYXRoMTA5OCIKICAgICAgc3R5bGU9InN0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2U6IzMzMzMzMztzdHJva2Utd2lkdGg6My4xMjU7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7ZmlsbDpub25lIgogICAgICBpbmtzY2FwZTpjb25uZWN0b3ItY3VydmF0dXJlPSIwIgogICAgICBzb2RpcG9kaTpzdHJva2UtY215az0iKDAgMCAwIDAuOCkiCiAgICAgIGQ9Im0yNC40NjYgNDIuODM3djguOTA2bS0yMi45MDMgMC4yNTVoNDYuODI0IgogIC8+CiAgPHBhdGgKICAgICAgaWQ9InBhdGgxMDk5IgogICAgICBzb2RpcG9kaTpyeD0iMi40MTc1Nzc3IgogICAgICBzb2RpcG9kaTpyeT0iMi40MTc1Nzc3IgogICAgICBzdHlsZT0iZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOiMzMzMzMzM7c3Ryb2tlLXdpZHRoOjFwdDtmaWxsOiMzMzMzMzMiCiAgICAgIHNvZGlwb2RpOnR5cGU9ImFyYyIKICAgICAgZD0ibS00My43NzEgMTUuODQ3YTIuNDE3NiAyLjQxNzYgMCAxIDEgLTQuODM1MiAwIDIuNDE3NiAyLjQxNzYgMCAxIDEgNC44MzUyIDB6IgogICAgICB0cmFuc2Zvcm09Im1hdHJpeCgxLjQyMTEgMCAwIDEuNDIxMSA5MC4yMjkgMjguODQyKSIKICAgICAgc29kaXBvZGk6ZmlsbC1jbXlrPSIoMCAwIDAgMC44KSIKICAgICAgc29kaXBvZGk6Y3k9IjE1Ljg0NzM5NCIKICAgICAgc29kaXBvZGk6Y3g9Ii00Ni4xODg0NjEiCiAgICAgIHNvZGlwb2RpOnN0cm9rZS1jbXlrPSIoMCAwIDAgMC44KSIKICAvPgogIDxwYXRoCiAgICAgIGlkPSJwYXRoNzQxIgogICAgICBzb2RpcG9kaTpyeD0iMjcuMzUxNzciCiAgICAgIHNvZGlwb2RpOnJ5PSIyNy4zNTE3NyIKICAgICAgc3R5bGU9InN0cm9rZS1saW5lam9pbjpyb3VuZDtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6IzMzMzMzMztzdHJva2Utd2lkdGg6My4yMDQ4O2ZpbGw6I2IzYjNiMyIKICAgICAgc29kaXBvZGk6dHlwZT0iYXJjIgogICAgICBkPSJtNTguODQyIDM2Ljk2N2EyNy4zNTIgMjcuMzUyIDAgMSAxIC01NC43MDQgMCAyNy4zNTIgMjcuMzUyIDAgMSAxIDU0LjcwNCAweiIKICAgICAgdHJhbnNmb3JtPSJtYXRyaXgoLjc4MDA4IDAgMCAuNzgwMDggLjI2Njk1IC02LjI1MDYpIgogICAgICBzb2RpcG9kaTpjeT0iMzYuOTY2OTMiCiAgICAgIHNvZGlwb2RpOmN4PSIzMS40OTA1MjYiCiAgICAgIHNvZGlwb2RpOnN0cm9rZS1jbXlrPSIoMCAwIDAgMC44KSIKICAvPgogIDxwYXRoCiAgICAgIGlkPSJwYXRoNzQzIgogICAgICBzdHlsZT0ic3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZTojNGM0YzRjO3N0cm9rZS13aWR0aDo1O3N0cm9rZS1saW5lY2FwOnJvdW5kO2ZpbGw6bm9uZSIKICAgICAgZD0ibTI0LjcyMiAyMi4zNjN2LTE1Ljc2IgogICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIgogICAgICBpbmtzY2FwZTpjb25uZWN0b3ItY3VydmF0dXJlPSIwIgogICAgICBzb2RpcG9kaTpzdHJva2UtY215az0iKDAuMDAwMDAwMCAwLjAwMDAwMDAgMC4wMDAwMDAwIDAuNjk5OTk5OTkpIgogIC8+CiAgPHBhdGgKICAgICAgaWQ9InBhdGg3NDQiCiAgICAgIHN0eWxlPSJzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlOiM0YzRjNGM7c3Ryb2tlLXdpZHRoOjU7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7ZmlsbDpub25lIgogICAgICBpbmtzY2FwZTpjb25uZWN0b3ItY3VydmF0dXJlPSIwIgogICAgICBzb2RpcG9kaTpzdHJva2UtY215az0iKDAuMDAwMDAwMCAwLjAwMDAwMDAgMC4wMDAwMDAwIDAuNjk5OTk5OTkpIgogICAgICBkPSJtMjUuNjUgMjIuNjYxIDEwLjU0NiA2LjA4ODgiCiAgLz4KICA8cGF0aAogICAgICBpZD0icGF0aDc0MiIKICAgICAgc29kaXBvZGk6cng9IjIuMzM5Mjk2MSIKICAgICAgc29kaXBvZGk6cnk9IjIuMzM5Mjk2MSIKICAgICAgc3R5bGU9InN0cm9rZS1saW5lam9pbjpyb3VuZDtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6IzMzMzMzMztzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2Utd2lkdGg6My4wMjU2O2ZpbGw6IzMzMzMzMyIKICAgICAgc29kaXBvZGk6dHlwZT0iYXJjIgogICAgICBkPSJtMzEuNDkxIDMyLjI4OGEyLjMzOTMgMi4zMzkzIDAgMSAxIC00LjY3ODYgMCAyLjMzOTMgMi4zMzkzIDAgMSAxIDQuNjc4NiAweiIKICAgICAgdHJhbnNmb3JtPSJtYXRyaXgoLjgyNjI4IDAgMCAuODI2MjggLjc0NDc1IC00LjA5MjgpIgogICAgICBzb2RpcG9kaTpjeT0iMzIuMjg4MzM4IgogICAgICBzb2RpcG9kaTpjeD0iMjkuMTUxMjMiCiAgICAgIHNvZGlwb2RpOnN0cm9rZS1jbXlrPSIoMCAwIDAgMC44KSIKICAvPgogIDxtZXRhZGF0YQogICAgICBpZD0ibWV0YWRhdGExMCIKICAgID4KICAgIDxyZGY6UkRGCiAgICAgID4KICAgICAgPGNjOldvcmsKICAgICAgICA+CiAgICAgICAgPGRjOmZvcm1hdAogICAgICAgICAgPmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdAogICAgICAgID4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgICByZGY6cmVzb3VyY2U9Imh0dHA6Ly9wdXJsLm9yZy9kYy9kY21pdHlwZS9TdGlsbEltYWdlIgogICAgICAgIC8+CiAgICAgICAgPGNjOmxpY2Vuc2UKICAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9saWNlbnNlcy9wdWJsaWNkb21haW4vIgogICAgICAgIC8+CiAgICAgICAgPGRjOnB1Ymxpc2hlcgogICAgICAgICAgPgogICAgICAgICAgPGNjOkFnZW50CiAgICAgICAgICAgICAgcmRmOmFib3V0PSJodHRwOi8vb3BlbmNsaXBhcnQub3JnLyIKICAgICAgICAgICAgPgogICAgICAgICAgICA8ZGM6dGl0bGUKICAgICAgICAgICAgICA+T3BlbmNsaXBhcnQ8L2RjOnRpdGxlCiAgICAgICAgICAgID4KICAgICAgICAgIDwvY2M6QWdlbnQKICAgICAgICAgID4KICAgICAgICA8L2RjOnB1Ymxpc2hlcgogICAgICAgID4KICAgICAgPC9jYzpXb3JrCiAgICAgID4KICAgICAgPGNjOkxpY2Vuc2UKICAgICAgICAgIHJkZjphYm91dD0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbGljZW5zZXMvcHVibGljZG9tYWluLyIKICAgICAgICA+CiAgICAgICAgPGNjOnBlcm1pdHMKICAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9ucyNSZXByb2R1Y3Rpb24iCiAgICAgICAgLz4KICAgICAgICA8Y2M6cGVybWl0cwogICAgICAgICAgICByZGY6cmVzb3VyY2U9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zI0Rpc3RyaWJ1dGlvbiIKICAgICAgICAvPgogICAgICAgIDxjYzpwZXJtaXRzCiAgICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjRGVyaXZhdGl2ZVdvcmtzIgogICAgICAgIC8+CiAgICAgIDwvY2M6TGljZW5zZQogICAgICA+CiAgICA8L3JkZjpSREYKICAgID4KICA8L21ldGFkYXRhCiAgPgo8L3N2Zwo+Cg==
section:
  - name: Update time
    commands:
      Get time from server: sudo ntpdate time.nist.gov
      Update hardware clock to currently set time: sudo hwclock --systohc
      Show hardware clock: sudo hwclock --show
      Show time information: timedatectl status
      Query ntpd: ntpdc -c sysinfo
  - name: Services
    commands:
      ntpd: systemctl status ntpd.service
      timesyncd: systemctl status systemd-timesyncd.service
---

Use only one service, either `systemd-timesyncd` or `ntpd`.

[See here](https://hkern0.com/manjaro-linux-enable-time-server-syncronization)

`systemd-timesyncd` is more lightweight and is a client only (which I personally prefer), but it doesn't train the system's clock.

> systemd-timesyncd is basically a small client-only NTP implementation more or less bundled with newer systemd releases. It's more lightweight than a full ntpd but only supports time sync - i.e. it can't act as an NTP server for other machines. It's intended to replace ntpd for clients.

> systemd-timesyncd does no clock discipline: the clock is not trained or compensated, and internal clock drift over time is not reduced. It has rudimentary logic to adjust poll interval but without disciplining the host will end up with uneven time forever as systemd-timesyncd pushes or pulls at whatever interval it thinks the near-term drift requires.

[source](https://unix.stackexchange.com/questions/305643/ntpd-vs-systemd-timesyncd-how-to-achieve-reliable-ntp-syncing)

```bash
systemctl disable ntpd.service
systemctl stop ntpd.service

systemctl start systemd-timesyncd.service
systemctl enable systemd-timesyncd.service

timedatectl set-ntp 1
```
